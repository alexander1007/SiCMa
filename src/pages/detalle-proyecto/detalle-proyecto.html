<ion-header style="    margin-top: -12px;">

  <ion-navbar>
    <ion-title class="aling_left">Detalle Proyecto </ion-title>

  </ion-navbar>

</ion-header>

<ion-content padding class="card-background-page fondo">
  <div style="margin-top: 5em;">
    <ion-card *ngFor="let detalle of detalleProyecto let i = index">
      <ion-card-header class="fondo-heder">
        <h2 class="bold"> {{detalle.elemento}}</h2>
        <h4>{{detalle.sistema}}</h4>
        <h4 class="style-h4-header">
          <ion-icon class="style-icon-dinero" name='cash'></ion-icon> {{detalle.valorTotal | currency}}</h4>
        <ion-row>
          <ion-col col-4>
            <p>
              <b>{{detalle.p_variable1}} = </b> {{detalle.variable1}} m </p>
          </ion-col>
          <ion-col col-4>
            <p>
              <b>{{detalle.p_variable2}} = </b> {{detalle.variable2}} m </p>
          </ion-col>
          <ion-col col-4>
            <p>
              <b>{{detalle.p_variable3}} {{detalle.p_variable3 ==''? ' ':'=' }} </b> {{detalle.variable3}} {{detalle.p_variable3
              ==''? ' ':'m' }} </p>
          </ion-col>
        </ion-row>

      </ion-card-header>
      <ion-row>
        <ion-col col-6>
          <h3 class="text-materiales">Materiales:</h3>
        </ion-col>
        <ion-col col-6 style="text-align: right;">
          <button ion-button class="style-boton-mostrar" [ngClass]="detalle.open ? 'color-btn-ocultar': 'color-btn-mostrar'" size="small"
            (click)="toggleAccordion(i)"> {{detalle.open ? 'Ocultar': 'Mostrar'}}</button>

        </ion-col>
      </ion-row>
      <ion-card-content class="color-content" [ngClass]="detalle.open ? 'abierto': 'cerrado'">
        <ion-card *ngFor="let material of detalle['materiales']" [hidden]="!material.cantidadTotal > 0">
          <div class="separado-flex">
            <p class="titulo-material">{{material.descripcion}}</p>
            <a class="style-boton-ver" (click)="verImagenMaterial(material)">Ver</a>
          </div>
          <ion-item>
            <div class="separado-flex">
              <p>Cantidad:</p>
              <p>{{material.cantidadTotal}}</p>
            </div>
            <div class="separado-flex">
              <p>Valor:</p>
              <p>{{material.valorTotalS}}</p>
            </div>
          </ion-item>

        </ion-card>
      </ion-card-content>
    </ion-card>
  </div>

</ion-content>